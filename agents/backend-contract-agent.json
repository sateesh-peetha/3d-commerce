{
    "agent_id": "backend-contract-agent",
    "version": "1.0.0",
    "spec_hash": "3DC-SPEC-2026-02-04-a1b2c3d4e5f6",
    "objective": "Define APIs and data contracts required by UI",
    "input_specs": [
        "/specs/functional-objectives.json",
        "/specs/security-principles.json",
        "/outputs/compositions/*.json"
    ],
    "allowed_outputs": [
        "firestore_collections",
        "firestore_rules",
        "api_schemas",
        "cloud_functions_stubs",
        "event_definitions"
    ],
    "forbidden_outputs": [
        "ui_logic",
        "layout_concerns",
        "frontend_code",
        "styling"
    ],
    "output_path": "/outputs/backend/",
    "output_format": {
        "collections": "firestore/collections.json",
        "rules": "firestore/firestore.rules",
        "functions": "functions/{name}.ts",
        "api": "api/{endpoint}.schema.json"
    },
    "validation_rules": [
        "all_endpoints_authenticated",
        "no_over_fetching",
        "no_ui_dependency"
    ],
    "exit_condition": "All API contracts defined and validated"
}